exports.up = function(knex, Promise) {
    return Promise.all([
	knex.schema.createTable('roomMoney', function(table) {
            table.integer('roomId');
            table.integer('bookingId');
	    table.increments().primary();
	    table.integer('amount');
            table.timestamp('created_at').defaultTo(knex.fn.now());
	}),
	knex.schema.alterTable('roomMoney', function(table) {
            table.foreign('roomId').references('places.id');
	    table.foreign('bookingId').references('booking.id');
	})
    ]);
};

exports.down = function(knex, Promise) {
    return Promise.all([
	knex.schema.dropTable('roomMoney')
    ]);
};
