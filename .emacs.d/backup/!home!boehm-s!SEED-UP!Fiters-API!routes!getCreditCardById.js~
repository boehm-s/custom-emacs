const AuthToken = require('../models/AuthToken');
const Coach = require('../models/Coach');
const Admin = require('../models/Admin');
const compose = require('connect-compose');
const wrapPromise = require('../utils/wrapPromise');
const accessControl = require('../middlewares/canModifyOtherId');
const bodyParser = require('body-parser');
const _ = require('lodash');

module.exports = compose([bodyParser.urlencoded(), accessControl(Coach, ["anonymous"]), wrapPromise(async (req, res, next) => {
    if (req.target) {
        return res.json({status: 1, message: "", data: req.target});
    } else {
        return res.json({status: 0, message: "ce coach n'existe pas", data: null});
    }

})]);
