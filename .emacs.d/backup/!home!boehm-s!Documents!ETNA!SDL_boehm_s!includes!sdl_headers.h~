#ifndef _SDL_HEADERS_
#define _SDL_HEADERS_

#include "SDL/SDL.h"
#include "SDL/SDL_image.h"
#include "SDL/SDL_ttf.h"
#include "SDL/SDL_mixer.h"
#include <smpeg/smpeg.h>
#include <stdio.h>
#include <stdlib.h>

#define LARGEUR_FENETRE 1280
#define HAUTEUR_FENETRE 720

#define LARGEUR_BUTTON 216
#define HAUTEUR_BUTTON 99

#define SPACE event.key.keysym.sym == SDLK_SPACE
#define ESCAPE event.key.keysym.sym == SDLK_ESCAPE
#define QUIT event.type == SDL_QUIT   

/* Maccro Hover */
#define HOVER(MIN_X, MAX_X, MIN_Y, MAX_Y)	\
  event.type == SDL_MOUSEMOTION	&&		\
    event.motion.x >= MIN_X &&			\
    event.motion.x <= MAX_X &&			\
    event.motion.y >= MIN_Y &&			\
    event.motion.y <= MAX_Y

/* Maccro Click */
#define CLICK(MIN_X, MAX_X, MIN_Y, MAX_Y)	\
  event.type == SDL_MOUSEBUTTONUP &&		\
    event.button.button == SDL_BUTTON_LEFT &&	\
    event.button.x >= MIN_X &&			\
    event.button.x <= MAX_X &&			\
    event.button.y >= MIN_Y &&			\
    event.button.y <= MAX_Y

/* Maccro Unclick */
#define PUSH(MIN_X, MAX_X, MIN_Y, MAX_Y)	\
  event.type == SDL_MOUSEBUTTONDOWN &&		\
    event.button.button == SDL_BUTTON_LEFT &&	\
    event.button.x >= MIN_X &&			\
    event.button.x <= MAX_X &&			\
    event.button.y >= MIN_Y &&			\
    event.button.y <= MAX_Y

typedef struct s_button
{
  SDL_Surface	*display;
  SDL_Surface	*normal;
  SDL_Surface	*hover;
  SDL_Surface	*click;
  SDL_Rect	position;
  int (*f)(SDL_Surface *ecran, SDL_Event event);
} t_button;


typedef struct s_button_command
{
  SDL_Surface	*display;
  SDL_Surface	*normal;
  SDL_Surface	*hover;
  SDL_Surface	*click;
  SDL_Rect	position;
  int (*f)(t_ship *ship);
} t_button_command;


void		start_sdl(SDL_Surface *ecran);
void		init_start_button(t_button *button);
int		blit_button(SDL_Surface *ecran, t_button *button, SDL_Event event);
int		start_game(SDL_Surface *ecran, SDL_Event event);
int		handle_event(SDL_Surface *ecran, SDL_Surface *background, SDL_Event event, t_button *start_button, unsigned int display_button);
void		init_main_buttons(t_button_command *button);

#endif
