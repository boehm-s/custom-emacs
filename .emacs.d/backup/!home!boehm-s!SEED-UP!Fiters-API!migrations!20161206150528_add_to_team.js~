exports.up = function(knex, Promise) {
    return Promise.all([
	knex.schema.createTable('team_members', function(table) {
	    table.increments('id').primary();
	    table.integer('team_member_id').unsigned().notNullable();
	}),
	knex.schema.createTable('users_team_members', function(table){
	    table.increments('id').primary();
	    table.integer('user_id').references('users.id');
	    table.integer('team_member_id').references('team_members.id');
	}),
    ]);

};

exports.down = function(knex, Promise) {
    return Promise.all([
	knex.schema.dropTable('team_members'),
	knex.schema.dropTable('users_team_members')
    ]);
};
